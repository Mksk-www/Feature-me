<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feature Me</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="./src/style/high.css" id="highcss" class="uicss">
</head>

<body>
    <div id="cover"></div>
    <header>
        <div id="trackprogress"></div>
        <div id="headercontent">
            Feature Me Alpha 0.3.2
                <a href="https://FeatureMe-server.mksksub.repl.co/leaderboard" target="_blank" class="headertext">Leaderboard</a>
                <a class="headertext" onclick="select('#updatesmodal').style.display = 'block';select('#updatesmodal').style.animation = 'showmodal 0.3s ease forwards'">Update</a>
                <a class="headertext" onclick="select('#creditsmodal').style.display = 'block';select('#creditsmodal').style.animation = 'showmodal 0.3s ease forwards'">Credits</a>
				<a class="headertext" href="https://github.com/Mkskdesu/Feature-me/releases/tag/1.0.0">Desktop App</a>
        </div>
    </header>
    <div class="main">
        <hr id="topbar">
        <hr id="bottombar">
        <div id="topframe">
        <h1 id="pagetitle">Home</h1>
		<div id="headeritem" onclick="showUserDetails()">
            <img src="./src/img/config.png" alt=""  onclick="switchpage('Settings')">
            <img src="./src/img/Character.png" alt="" onclick="switchpage('Character')">
			<span id="userlevel">Lv.0</span>
			<span id="userrating" class="rating">00.00</span>
			<span id="username">Guest</span>
			<div id="ratingdiff">
				RATING: <span id="oldrating" class="rating"></span> → <span id="newrating" class="rating"></span> (<span id="ratingdiffvalue"></span>)
			</div>
			<div id="expdiff">
				EXP: <span id="totalexp"></span> / <span id="requiredexp"></span> (+<span id="expdiffvalue"></span>) Lv.<span id="explevel"></span>
			</div>
		</div>
        </div>
        <div id="mainframe">

            <div class="Homepage ">
                <div id="musicbg"></div>
            </div>
            <div class="Settingspage">
                <div style=" margin-top: 100px; width: 100vw;" class="valuesetting">
                    <h1>UI Details</h1>
                    <img src="./src/img/Plus.png" alt="" onclick="uiDetailsCtrl(1)">
                    <h1 style="width: 7.25em;vertical-align: super;" id="uidetailsvalue">High</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="uiDetailsCtrl(-1)">
                </div>

                <div style=" margin-top: 100px; width: 100vw;" class="valuesetting">
                    <h1>Framerate Upper Limit</h1>
                    <img src="./src/img/Plus.png" alt="" onclick="fpsCtrl(30)">
                    <h1 style="width: 7.25em;vertical-align: super;" id="fpsvalue">120</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="fpsCtrl(-30)">
                </div>

                <div style=" margin-top: 100px; width: 100vw;" class="valuesetting">
                    <h1>Notes Speed</h1>
                    <img src="./src/img/Left.png" alt="" onclick="notesSpeedCtrl(1)">
                    <img src="./src/img/Plus.png" alt="" onclick="notesSpeedCtrl(0.1)">
                    <h1 style="width: 2em;vertical-align: super;" id="notesspeedvalue">10</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="notesSpeedCtrl(-0.1)">
                    <img src="./src/img/Right.png" alt="" onclick="notesSpeedCtrl(-1)">
                </div>

                <div style="margin-top: 100px; width: 100vw;" class="valuesetting">
                    <h1>Music Volume</h1>
                    <img src="./src/img/Left.png" alt="" onclick="musicVolumeCtrl(10)">
                    <img src="./src/img/Plus.png" alt="" onclick="musicVolumeCtrl(1)">
                    <h1 style="width: 2em;vertical-align: super;" id="musicvolumevalue">100</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="musicVolumeCtrl(-1)">
                    <img src="./src/img/Right.png" alt="" onclick="musicVolumeCtrl(-10)">
                </div>
                <div style="margin-top: 100px; width: 100vw;" class="valuesetting">
                    <h1>Sound Effects Volume</h1>
                    <img src="./src/img/Left.png" alt="" onclick="effectVolumeCtrl(10)">
                    <img src="./src/img/Plus.png" alt="" onclick="effectVolumeCtrl(1)">
                    <h1 style="width: 2em;vertical-align: super;" id="effectvolumevalue">100</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="effectVolumeCtrl(-1)">
                    <img src="./src/img/Right.png" alt="" onclick="effectVolumeCtrl(-10)">
                </div>

                <div style="margin-top:100px; width: 100vw;" class="valuesetting">
                    <h1>Judge Type</h1>
                    <img src="./src/img/Plus.png" alt="" onclick="judgeTypeCtrl(true)">
                    <h1 style="width: 7.25em;vertical-align: super;" id="judgetypevalue">Text & Effect</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="judgeTypeCtrl(false)">
                </div>

                <div style="margin-top:100px; width: 100vw;" class="valuesetting">
                    <h1>Effect Sound Type</h1>
                    <img src="./src/img/Plus.png" alt="" onclick="effectTypeCtrl(1)">
                    <h1 style="width: 7.25em;vertical-align: super;" id="effecttypevalue">Default</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="effectTypeCtrl(-1)">
                </div>

                <div style=" margin-top: 100px; width: 100vw;" class="valuesetting">
                    <h1>Lane Vertical Lines</h1>
                    <img src="./src/img/Plus.png" alt="" onclick="vLineCtrl(true)">
                    <h1 style="width: 7.25em;vertical-align: super;" id="vlinevalue">Enabled</h1>
                    <img src="./src/img/Minus.png" alt="" onclick="vLineCtrl(false)">
                </div>
            </div>

            <div class="Characterpage">
                <img src="./src/img/Characters/card-shiori.png" style="display:inline-block;min-width:40%;max-width:60%;margin:16px;margin-left:50%;transform:translate(-50%,0);vertical-align:middle;">
                <div id="characterstatus">
                    ATK : 7951 <br>
                    CRIT RATE : 5% <br>
                    CRIT DMG : +50% <br>
                    SKILL : FEATURE SCORE increased to 110%
                </div>
            </div>
        </div>
        <div id="bottomframe">
            <div class="Homepage">
                <p style="position:absolute;bottom:0;left:96px;margin:0" class="version">
                    VERSION:WEB_0.3.2_00070 <br>
                    2021 Mksk & Raetan the Feature Me Project</p>
                <container style="position: absolute;top: 0;right: 12px;">
                    <img src="./src/img/Cursor.png" alt> <span>選択</span>
                </container>
            </div>
            <div class="Settingspage">
                <container style="position: absolute;top: 0;right: 12px;">
                    <img src="./src/img/Cursor.png" alt> <span>選択</span>
                </container>
                <container style="position: absolute;top: 0;right: 140px;">
                    <img src="./src/img/Esc.png" alt=""><span>戻る</span>
                </container>
                <container id="reset" onclick="reset();" style="position: absolute;top: 0;left:8px;">
                    <img src="./src/img/Delete.png">
                    <span style="font-size:36px">設定リセット</span>
                </container>
            </div>
            <div class="Characterpage">
                <container style="position: absolute;top: 0;right: 12px;">
                    <img src="./src/img/Cursor.png" alt> <span>選択</span>
                </container>
                <container style="position: absolute;top: 0;right: 140px;">
                    <img src="./src/img/Esc.png" alt=""><span>戻る</span>
                </container>
            </div>
        </div>
    </div>

        <div id="videobackground"></div>
        <video src="./src/video/fullchain.mp4" id="fullchain" muted></video>
        <video src="./src/video/allstunningbloom.mp4" id="asb" muted></video>

    <div id="result">
        <div style="height:calc(50% - 4px);border: 2px solid #03a7eb;display: inline-block;width: calc(50% - 8px);text-align: center;">
            <span>SCORE</span><br>
            <h1 id="score">1000000</h1>
        </div>
		
        <div style="height: calc(50% - 4px);border: 2px solid #03a7eb;display: inline-block;width: calc(50% - 8px);text-align: center;">
            <span>RANK</span><br>
            <h1 id="rank">SSS</h1>
		</div>

        <div style="height: calc(40% - 4px);display: inline-block;width:100%;font-size: 48px;">
            <div id="result-details">
				<div>
					<span style="color: #eabc02;">Stunning Bloom</span> <span style="float: right;" id="stunningbloom">0</span>	
				</div>
                <div>
					<span style="color: #35c101;">Bloom</span> <span style="float: right;" id="bloom">0</span>	
				</div>
                <div>
					<span>Miss</span> <span style="float: right;" id="miss">0</span>	
				</div>
                <div>
					<span>MAX Chain</span> <span style="float: right;" id="maxchain">0</span>	
				</div>
				<div>
					<span style="color: blue;">FAST</span> <span style="float: right;" id="fast">0</span>
				</div>
				<div>
					<span style="color: red;">LATE</span> <span style="float: right;" id="late">0</span>	
				</div>
                
            </div>
        </div>
	    <!-- <div style="height:calc(60% - 4px);border: 2px solid #03a7eb;display: inline-block;width: calc(50% - 8px);text-align: center;">
	        <span>SCORE</span><br>
	        <h1 id="fs-score">0</h1>
	    </div>

		<div style="height: calc(60% - 4px);border: 2px solid #03a7eb;display: inline-block;width: calc(50% - 8px);text-align: center;">
	        <span>RANK</span><br>
	        <h1 id="fs-rank">SSS</h1>
	    </div> -->
        <div class="button" onclick="location.reload()">Exit</div>
        <div class="button" onclick="showShareModal()">Share</div>
    </div>

    <div id="sharemodal" class="modal">
        <span class="windowtitle">Share Result</span>
        <div style="height:calc(100% - 4.75em);overflow:auto;">
            <p onclick="shareOnTwitter()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter" viewBox="0 0 16 16">
                  <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/>
                </svg>
                Twitter
            </p>
            <p onclick="shareOnLeaderboard()">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list-ul" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
				</svg>
                Leaderboard
            </p>
            <!-- <p>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-earmark-play" viewBox="0 0 16 16">
                    <path d="M6 6.883v4.234a.5.5 0 0 0 .757.429l3.528-2.117a.5.5 0 0 0 0-.858L6.757 6.454a.5.5 0 0 0-.757.43z"/>
                    <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                </svg>
                Save Replay
            </p> -->
        </div>
        <div class="button" style="position:absolute;bottom:8px;right:8px;font-size:1em;border-radius:4px;">Cancel</div>
    </div>

    <div id="shareleaderboard" class="modal">
        <span class="windowtitle">Share on Leaderborad</span>
        <div class="cp_iptxt">
            Enter your name...
            <input class="ef" type="text" name="username" placeholder="">
            <span class="focus_line"></span>
        </div>
        <div class="button" style="position:absolute;bottom:8px;right:calc(33% + 16px);font-size:1em;border-radius:4px;" onclick="submitShare()">Share</div>
        <div class="button" style="position:absolute;bottom:8px;right:8px;font-size:1em;border-radius:4px;">Cancel</div>
    </div>

    <div id="updatesmodal" class="modal">
        <span class="windowtitle">Updates</span>
        <div style="height:calc(100% - 4.75em);overflow:auto;">
            Feature Me Alpha <br>
            Version:0.0.0 <br>
            プロジェクト始動。 <br>
            <hr>
            Version:0.1.0～0.1.3 <br>
            スタート画面実装。 <br>
            リーダーボード実装。 <br>
            設定項目 : ノーツ速度 音量 判定表示 追加。 <br>
            SPACE NOTE 実装。
            <hr>
            Version:0.2.0～0.2.7 <br>
            リズムアシスト追加。 <br>
            背景色変更機能を追加。 <br>
            エフェクト音を2種類追加。 <br>
            解像度の変更 <br>
            判定ライン位置を変更。 <br>
            ノーツサイズを変更 <br>
            UI/UXの調整 <br>
            Full Chain/All Stunning Bloom 演出追加。 <br>
            リザルト画面に共有メニューを追加。 <br>
            POSITION NOTE 実装。 <br>
            エフェクト調整。 <br>
            レーン分割ライン追加。 <br>
            設定項目 : 細部画質 FPS上限 レーンライン 追加。 <br>
            空打ちエフェクト追加。
            <hr>
            Version:0.3.0〜 <br>
            キャラクター追加。<br>
            SCOREをTECHNICAL SCOREへ変更。<br>
            CHARACTER　SCORE追加。<br>
			FEATTURE ME ACCOUNT システム追加.
        </div>
        <div class="button" style="position:absolute;bottom:8px;right:8px;font-size:1em;border-radius:4px;">Close</div>
    </div>

    <div id="creditsmodal" class="modal">
        <span class="windowtitle">Credits</span>
        <div style="height:calc(100% - 4.75em);overflow:auto;">
            Feature Me Alpha<br>
            Programed By : <br>
            <b>Mksk</b> <br>
            Music By : <br>
            <b>Goners/Raetan</b> <br>
            Illustlation By : <br>
            <b>てぬ</b> <br>
        </div>
        <div class="button" style="position:absolute;bottom:8px;right:8px;font-size:1em;border-radius:4px;">Close</div>
    </div>

	<div id="loginmodal" class="modal">
        <span class="windowtitle">Login</span>
		<div style="height:calc(100% - 4.75em);overflow:auto;" id="loginmodal-first">
			<p onclick="logintype='login';select('#loginmodal-first').style.display='none';select('#loginmodal-second').style.display='block';select('#submit-login').style.display='inline-block';">Login</p>
			<p onclick="logintype='register';select('#loginmodal-first').style.display='none';select('#loginmodal-second').style.display='block';select('#submit-login').style.display='inline-block';">Register</p>
		</div>
        <div style="height:calc(100% - 4.75em);overflow:auto;" id="loginmodal-second" style="display:none;">
			<div class="cp_iptxt">
	            Username
	            <input class="ef" type="text" name="username-login" placeholder="">
	            <span class="focus_line"></span>
	        </div>
			<span id="login-username-error"></span>
			<div class="cp_iptxt">
	            Password
	            <input class="ef" type="password" name="password-login" placeholder="">
	            <span class="focus_line"></span>
	        </div>
			<span id="login-password-error"></span>
		</div>
		<div class="button static" id="submit-login" style="position:absolute;right:calc(33% + 16px);bottom:8px;font-size:1em;border-radius:4px;display:none" onclick="loginxhr()">Submit</div>
        <div class="button" style="position:absolute;bottom:8px;right:8px;font-size:1em;border-radius:4px;" onclick="select('#loginmodal-first').style.display='block';select('#loginmodal-second').style.display='none';select('#submit-login').style.display='none';">Cancel</div>
    </div>

	<div id="userprofilemodal" class="modal">
        <span class="windowtitle">My Account</span>
		アカウントページを開こうとしています.よろしいですか？ <br>
		<p onclick="logout();">Log out</p>		
		<div class="button" style="position:absolute;bottom:8px;right:calc(33% + 16px);font-size:1em;border-radius:4px;" onclick="openmypage()">Open</div>
        <div class="button" style="position:absolute;bottom:8px;right:8px;font-size:1em;border-radius:4px;">Cancel</div>
    </div>

    <script src="./src/shortcut.js"></script>
    <script src='./src/phina.js'></script>
    <script src="./src/fps.js"></script>
    <script src="./src/jquery.js"></script>
    <script src="./src/script.js"></script>
    <script type="text/javascript">
        phina.globalize();
    </script>
    <script src="./src/config.js"></script>
    <script src="./src/components.js"></script>
    <script src="./src/mainscene.js"></script>
    <script src="./src/titlescene.js"></script>
    
</body>

</html>
